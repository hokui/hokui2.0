<h1>教科情報を修正</h1>

<% if @subject.errors.any? %>
  <% messages = @subject.errors.full_messages.delete_if{ |msg| msg.scan('Password digest').length > 0 } %>
  <% messages.delete("Password doesn't match confirmation") %>
  <div id="error_explanation">
    <h2><%= messages.count %>個の項目にエラーがあります。</h2>
    <ul>
      <% messages.each do |msg| %>
        <li><%= slice_error_message(msg) %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_for @subject, url: "/terms/#{@term.term_identifier}/subjects/#{@subject.subject_identifier}/edit" do |f| %>
  <div class="field">
    <%= f.label :term_identifier, '学期コード' %><br>
    新学期登録画面と同様に、'2a', '2b'... の形式で学期コードを半角英数字で入力してください。<br>
    <%= f.text_field :term_identifier %>
  </div>

  <div class="field">
    <%= f.label :subject_identifier, '教科名(英)' %><br>
    a-z, 0-9, _  以外の文字は使えません。<br>
    <%= f.text_field :subject_identifier %>
  </div>

  <div class="field">
    <%= f.label :subject_name, '教科名(日)' %><br>
    <%= f.text_field :subject_name %>
  </div>

  <div class="field">
    <%= f.label :subject_staff, '教員名' %><br>
    <%= f.text_field :subject_staff %>
  </div>

  <div class="field">
    <%= f.label :subject_lct_cd, '教科コード' %><br>
    シラバスページの「時間割番号」を入力してください。先頭の0も省略せずに入力してください。<br>
    <%= f.text_field :subject_lct_cd %>
  </div>

  <div class="action">
    <%= f.submit '送信' %>
  </div>
<% end %>
